// AT_Settings.h
// Contains settings and global variables for the AnalyseTree.C script
// ============================================================================================= //
// Patrick MacGregor
// Nuclear Physics Research Group
// Department of Physics and Astronomy
// The University of Manchester
// ============================================================================================= //
#ifndef AT_SETTINGS_H_
#define AT_SETTINGS_H_

#include <TString.h>
#include <iostream>

/* TODO LIST
	* Change naming convention for files so it sorts well alphabetically:
		[HIST_NAME]-[POS]-[ROW]-[ADDITIONAL INFO].extension
	* Add more plots that will be useful with all the correct formatting - look at Plotter
	* Make it create all the spectra, superseding CreateMgSpectra
	* Make it do the theoretical lines on the E v.s. z plot.
	* Make a common axis labelling and histogram boundaries function for similar plots.
	* Add full excitation plots in last slot i.e. make the RBR things have TH1F* h[7], with h[6] = full spec.

*/

// CONSTANTS
// Canvas
const Int_t C_WIDTH = 1200;
const Int_t C_HEIGHT = 900;

// Directories
TString print_dir = "/home/ptmac/Documents/07-CERN-ISS-Mg/Mg-Analysis/SPE-Files";
TString cut_dir = "/home/ptmac/Documents/07-CERN-ISS-Mg/analysis/working/ALL-MgCuts3.root";
TString cut_dir_si = "/home/ptmac/Documents/07-CERN-ISS-Mg/analysis/analysis-codes/analyse-tree/cuttlefish.root";

// Decide how to plot excitation spectra
const Bool_t ALL_ROWS = 0;
const Bool_t ROW_BY_ROW = 1;
const Bool_t DET_BY_DET = 0;

// Select row/det number to look at (-1 means do them all)
const Int_t DET_NUMBER = -1;
const Int_t ROW_NUMBER = -1;


// Select angle cuts
const Double_t THETA_MIN = 11.0; //16.6278;
const Double_t THETA_LB = 11.0;
const Double_t THETA_UB = 14.5;

// PRINT OPTIONS
const Bool_t DISPLAY_CANVAS = 0;
const Bool_t PRINT_PDF = 1;
const Bool_t PRINT_PNG = 0;
const Bool_t PRINT_ROOT = 1;
const Bool_t CANVAS_COMBINE = 0;

// Cut creator
const Bool_t DRAW_NEW_CUTS = 0;
TFile* out_root_file;

// Other constant booleans


// SWITCHES
/* Form is:
	(0) Make the histograms for this
	(1) Print the histograms (pdf, root etc)
	(2) Write SPE files
*/
const Bool_t  SW_EX_COMPARE[3] = { 0, 1, 1 };
const Bool_t    SW_RDT_CUTS[3] = { 0, 0, 0 };
const Bool_t      SW_EVZ_SI[3] = { 0, 0, 0 };
const Bool_t          SW_EX[3] = { 0, 1, 1 };
const Bool_t       SW_EX_SI[3] = { 0, 0, 0 };
const Bool_t SW_EVZ_COMPARE[3] = { 0, 1, 0 };
const Bool_t         SW_EVZ[3] = { 0, 0, 0 };
const Bool_t        SW_XNXF[3] = { 1, 1, 0 };
const Bool_t        SW_XCAL[3] = { 0, 1, 0 };
const Bool_t          SW_TD[3] = { 0, 1, 0 };

// GLOBAL VARIABLES
TObjArray* cut_list;
TObjArray* cut_list_si;		// Si cuts to read in
TObjArray* cut_list_xnxf;
TObjArray* cuttlefish;		// Cuts to be read out

// Cut booleans
Bool_t is_in_used_det = 0;
Bool_t is_in_rdt = 0;
Bool_t is_in_rdt_si = 0;
Bool_t is_in_td = 0;
Bool_t is_in_xcal = 0;
Bool_t is_in_xcal_mid = 0;
Bool_t is_in_theta_min = 0;
Bool_t is_in_theta_range = 0;
Bool_t is_in_row = 0;
Bool_t is_in_xnxf_cut = 0;

// Other booleans
Bool_t found_si_cuts = 0;

// Detector array
/*Bool_t det_array[6][4] = {
	{ 1, 1, 1, 1 },
	{ 1, 0, 0, 1 },
	{ 0, 1, 1, 1 },
	{ 1, 1, 0, 1 },
	{ 1, 1, 1, 1 },
	{ 1, 1, 0, 1 }
};*/

Bool_t det_array[6][4] = {
	{ 1, 1, 1, 1 },
	{ 1, 1, 1, 1 },
	{ 1, 1, 1, 1 },
	{ 1, 1, 1, 1 },
	{ 1, 1, 1, 1 },
	{ 1, 0, 1, 1 }
};
/*
// Form is xlow, xup, ylow, yup ----OLD ONES BASED ON fin1.root
Double_t xnxf_lims[24][4] = {
	{ 0200.0, 0700.0, 0700.0, 1350.0 }, // 00
	{ 0650.0, 1200.0, 0060.0, 0910.0 }, // 01
	{ 0400.0, 1000.0, 0300.0, 1000.0 }, // 02
	{ 0500.0, 1000.0, 0200.0, 0800.0 }, // 03
	{ 0400.0, 1200.0, 0200.0, 1100.0 }, // 04
	{ 0300.0, 1100.0, 0200.0, 1100.0 }, // 05
	{ 0250.0, 0800.0, 0500.0, 1100.0 }, // 06
	{ 0250.0, 0750.0, 0500.0, 1100.0 }, // 07
	{ 0300.0, 0850.0, 0400.0, 0800.0 }, // 08
	{ 0850.0, 1250.0, 0250.0, 0650.0 }, // 09
	{ 0200.0, 0600.0, 0700.0, 1300.0 }, // 10
	{ 0000.0, 0000.0, 0000.0, 0000.0 }, // 11 - NOT USED
	{ 0000.0, 0000.0, 0000.0, 0000.0 }, // 12 - NOT USED
	{ 0250.0, 1200.0, 0200.0, 1200.0 }, // 13
	{ 0250.0, 1100.0, 0200.0, 1050.0 }, // 14
	{ 0250.0, 1150.0, 0200.0, 1150.0 }, // 15
	{ 0250.0, 1200.0, 0200.0, 1100.0 }, // 16
	{ 0200.0, 1150.0, 0200.0, 1200.0 }, // 17
	{ 0600.0, 1150.0, 0200.0, 0800.0 }, // 18
	{ 0250.0, 1200.0, 0200.0, 1200.0 }, // 19
	{ 0250.0, 1100.0, 0200.0, 1100.0 }, // 20
	{ 0250.0, 1250.0, 0300.0, 1200.0 }, // 21
	{ 0250.0, 1150.0, 0200.0, 1000.0 }, // 22
	{ 0200.0, 1100.0, 0300.0, 1000.0 }  // 23
};
*/
// Form is xlow, xup, ylow, yup
Double_t xnxf_lims[24][4] = {
	{ 0300.0, 0750.0, 0700.0, 1450.0 }, // 00
	{ 0650.0, 1200.0, 0100.0, 0850.0 }, // 01
	{ 0300.0, 1100.0, 0150.0, 1200.0 }, // 02
	{ 0450.0, 1100.0, 0150.0, 1000.0 }, // 03
	{ 0400.0, 1200.0, 0150.0, 1100.0 }, // 04
	{ 0350.0, 0800.0, 0350.0, 1100.0 }, // 05
	{ 0200.0, 1100.0, 0200.0, 1200.0 }, // 06
	{ 0250.0, 1100.0, 0200.0, 1200.0 }, // 07
	{ 0200.0, 0850.0, 0200.0, 1150.0 }, // 08
	{ 0250.0, 1150.0, 0150.0, 1250.0 }, // 09
	{ 0150.0, 1100.0, 0150.0, 1300.0 }, // 10
	{ 0200.0, 1800.0, 0200.0, 1800.0 }, // 11 - NOT USED
	{ 0150.0, 1150.0, 0150.0, 1400.0 }, // 12
	{ 0250.0, 1200.0, 0150.0, 1300.0 }, // 13
	{ 0200.0, 1150.0, 0100.0, 1200.0 }, // 14
	{ 0200.0, 1100.0, 0100.0, 1300.0 }, // 15
	{ 0300.0, 1150.0, 0150.0, 1200.0 }, // 16
	{ 0200.0, 1150.0, 0100.0, 1300.0 }, // 17
	{ 0500.0, 1150.0, 0150.0, 1100.0 }, // 18
	{ 0300.0, 1150.0, 0100.0, 1200.0 }, // 19
	{ 0300.0, 1050.0, 0150.0, 1200.0 }, // 20
	{ 0250.0, 1150.0, 0150.0, 1300.0 }, // 21
	{ 0250.0, 1050.0, 0150.0, 1200.0 }, // 22
	{ 0300.0, 0550.0, 0150.0, 0600.0 }  // 23
};

Double_t xnCorr[24] = {
	0.966727,	// 00
	0.997927,	// 01
	0.989599,	// 02
	0.926229,	// 03
	1.047585,	// 04
	0.909146,	// 05
	0.929986,	// 06
	0.967946,	// 07
	1.024587,	// 08
	0.962987,	// 09
	1.004322,	// 10
	0.000000,	// 11
	0.990265,	// 12
	1.001459,	// 13
	1.030865,	// 14
	0.971375,	// 15
	1.030609,	// 16
	0.925257,	// 17
	0.947191,	// 18
	1.003948,	// 19
	0.922519,	// 20
	0.992650,	// 21
	1.048827,	// 22
	1.099749,	// 23
};

// 0 is intercept, 1 is gradient
Double_t xfxneCorr[24][2] = {
	{  84.810146, 0.787204 },	// 00
	{  21.692844, 0.901754 },	// 01
	{  -0.417396, 1.039694 },	// 02
	{   5.440165, 1.059241 },	// 03
	{  10.437416, 0.877122 },	// 04
	{  14.679922, 0.968351 },	// 05
	{   4.348392, 1.008135 },	// 06
	{   2.663149, 0.964028 },	// 07
	{   0.734505, 0.987036 },	// 08
	{  -0.170195, 0.970481 },	// 09
	{  -2.913801, 0.910152 },	// 10
	{   0.000000, 0.000000 },	// 11
	{ -11.155081, 0.801017 },	// 12
	{  -1.372210, 0.921781 },	// 13
	{  -0.307487, 0.932430 },	// 14
	{   0.207796, 0.984422 },	// 15
	{  -2.035594, 0.990522 },	// 16
	{  10.052821, 0.964506 },	// 17
	{   1.988585, 0.908333 },	// 18
	{   1.183874, 0.952619 },	// 19
	{  -0.707580, 1.037751 },	// 20
	{   1.795465, 0.887182 },	// 21
	{  -2.821598, 1.099153 },	// 22
	{  -3.031079, 0.878133 },	// 23
};


Double_t xnxfE_lims[24][4] = {
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 00
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 01
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 02
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 03
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 04
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 05
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 06
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 07
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 08
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 09
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 10
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 11
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 12
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 13
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 14
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 15
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 16
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 17
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 18
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 19
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 20
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 21
	{ 0200.0, 1900.0, 0200.0, 1900.0 }, // 22
	{ 0200.0, 1900.0, 0200.0, 1900.0 }  // 23
};

Double_t e_calibration_range = 40;

Double_t rawE_pos[24][4] = {
	{ 0815.0,  1325.0, 1400.0, 1480.0 }, // 00
	{ 0800.0,  1310.0, 1390.0, 1475.0 }, // 01
	{ 0875.0,  1425.0, 1525.0, 1610.0 }, // 02
	{ 0850.0,  1375.0, 1475.0, 1560.0 }, // 03
	{ 0800.0,  1290.0, 1375.0, 1450.0 }, // 04
	{ 0775.0,  1275.0, 1355.0, 1430.0 }, // 05
	{ 0835.0,  1350.0, 1425.0, 1525.0 }, // 06
	{ 0800.0,  1300.0, 1390.0, 1475.0 }, // 07
	{ 0830.0,  1355.0, 1420.0, 1520.0 }, // 08
	{ 0810.0,  1315.0, 1400.0, 1480.0 }, // 09
	{ 0760.0,  1240.0, 1310.0, 1390.0 }, // 10
	{ 0800.0,  1275.0, 1350.0, 1450.0 }, // 11
	{ 0675.0,  1100.0, 1175.0, 1250.0 }, // 12
	{ 0800.0,  1285.0, 1375.0, 1450.0 }, // 13
	{ 0775.0,  1260.0, 1340.0, 1415.0 }, // 14
	{ 0800.0,  1300.0, 1390.0, 1465.0 }, // 15
	{ 0840.0,  1355.0, 1445.0, 1525.0 }, // 16
	{ 0815.0,  1325.0, 1410.0, 1490.0 }, // 17
	{ 0.0,  0.0, 0.0, 0.0 }, // 18 - NOT DONE
	{ 0.0,  0.0, 0.0, 0.0 }, // 19 - NOT DONE
	{ 0840.0,  1375.0, 1465.0, 1540.0 }, // 20
	{ 0775.0,  1275.0, 1360.0, 1440.0 }, // 21
	{ 0925.0,  1500.0, 1600.0, 1700.0 }, // 22
	{ 0760.0,  1240.0, 1310.0, 1390.0 }  // 23
	
};

#endif
